<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Mappa Dark con Rilievo Evidenziato</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
html,body{margin:0;padding:0;height:100%;background:#000;}
#map{position:relative;height:100vh;width:100%;}
.center-box{position:absolute;top:50%;left:50%;width:12px;height:12px;background:#e7354a;transform:translate(-50%,-50%);pointer-events:none;z-index:500;box-shadow:0 0 8px #e7354a;}
.coords{position:absolute;bottom:10px;left:10px;padding:6px 10px;font:13px monospace;color:#e7354a;background:rgba(0,0,0,.6);border-radius:4px;z-index:600;pointer-events:none;}
.leaflet-container{background:#000;}
</style>
</head>
<body>
<div id="map">
  <div class="center-box"></div>
  <div id="coordBox" class="coords">Lat: –, Lng: –</div>
</div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const map=L.map('map',{center:[43.77,11.25],zoom:8,minZoom:2,maxZoom:18});
const dark=L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{
  attribution:'&copy; OpenStreetMap &copy; CARTO',subdomains:'abcd',maxZoom:19
}).addTo(map);
const hillshadePane=map.createPane('hillshade');
hillshadePane.style.mixBlendMode='screen';
hillshadePane.style.opacity='0.7';
hillshadePane.style.filter='brightness(1.6) contrast(1.25)';
const hillshade=L.tileLayer('https://tiles.wmflabs.org/hillshading/{z}/{x}/{y}.png',{
  pane:'hillshade',attribution:'Hillshade: Wikimedia'
}).addTo(map);
const coordBox=document.getElementById('coordBox');
function upd(){const c=map.getCenter();coordBox.textContent=`Lat: ${c.lat.toFixed(5)}, Lng: ${c.lng.toFixed(5)}`;}
map.on('move',upd);
map.whenReady(()=>{upd(); setTimeout(()=>map.invalidateSize(),120);});
</script>
</body>
</html>
